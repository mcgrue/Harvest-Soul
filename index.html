<!DOCTYPE HTML>
<html>
<head>
    <link type="text/css" href="css/ui-lightness/jquery-ui-1.8.11.custom.css" rel="stylesheet" />   
    <script type="text/javascript" src="js/harvest_soul.js"></script>
    <script type="text/javascript" src="js/jquery-ui/jquery-1.5.1.js"></script>
    <script type="text/javascript" src="js/jquery-ui/ui/jquery.ui.core.js"></script>
    <script type="text/javascript" src="js/jquery-ui/ui/jquery.ui.widget.js"></script>
    <script type="text/javascript" src="js/jquery-ui/ui/jquery.ui.mouse.js"></script>
    <script type="text/javascript" src="js/jquery-ui/ui/jquery.ui.draggable.js"></script>
    <script type="text/javascript" src="js/jquery-ui/ui/jquery.ui.droppable.js"></script>

    <style>
        .slot {
            width: 48px;
            height: 48px;
            margin: 1px;
            background-color: #ccc;
            display: inline-block;
        }

        .item {
            width: 48px;
            height: 48px;
        }

        .red {
            background-color: #E50000;
        }

        .green {
            background-color: #15B01A;
        }

        .small_inventory {
            width: 216px;
            background-color: #630;
            height: 216px;
            padding-left: 6px;
            padding-top: 6px;
        }

        #logger {
            width: 400px;
            height: 100px;
            position: absolute;
            right: 10px;
            top: 10px;
        }

    </style>
</head>
<body>
    <div class="small_inventory">
        <div class="slot" id="slot_a"></div>
        <div class="slot" id="slot_b"></div>
        <div class="slot" id="slot_c"></div>
        <div class="slot" id="slot_d"></div>
        <div class="slot" id="slot_e"></div>
        <div class="slot" id="slot_f"></div>
        <div class="slot" id="slot_g"></div>
        <div class="slot" id="slot_h"></div>
        <div class="slot" id="slot_i"></div>
        <div class="slot" id="slot_j"></div>
        <div class="slot" id="slot_k"></div>
        <div class="slot" id="slot_l"></div>
        <div class="slot" id="slot_m"></div>
        <div class="slot" id="slot_n"></div>
        <div class="slot" id="slot_o"></div>
        <div class="slot" id="slot_p"></div>
    </div>

    <br />

    <div class="small_inventory" style="height: 56px;">
        <div class="slot" id="tool_a"></div>
        <div class="slot" id="tool_b">
            <div class="item red"</div>
        </div>
        <div class="slot" id="tool_c"></div>
        <div class="slot" id="tool_d">
            <div class="item green"</div>
        </div>
    </div>

    <textarea id="logger"></textarea>

    <script>
        $( ".item" ).draggable({ 
            snap: ".slot", 
            snapMode: "inner",
            helper: "clone",
            opacity: 0.7,
            stack: ".item" 
        });
        $( ".slot" ).droppable({
            drop: function( event, ui ) {
                var slot = $(event.target);
                var kids = slot.children();

                if( kids.length ) {
                    debugger;
                }

                var node = ui.draggable.detach();

                node.css( {'left':0, 'top':0} );
                node.appendTo(slot);

                $$.log( 'Item dropped into slot.' );
            }
        });
    </script>
    
</body>
</html>
